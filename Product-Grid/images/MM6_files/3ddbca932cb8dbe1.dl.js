(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3891],{89061:(e,t,s)=>{"use strict";s.d(t,{"AI":()=>c,"Iq":()=>d,"HQ":()=>m});var o=s(52689),l=s.n(o),r=s(93491),n=s.n(r),a=s(93981);const i=a.createContext();function c(e){return a.createElement(i.Consumer,null,e)}const d=e=>t=>a.forwardRef(((s,o)=>a.createElement(i.Consumer,null,(l=>a.createElement(t,n()({ref:o},s,e(l)))))));class m extends a.Component{constructor(e){super(e),l()(this,"setContext",(e=>{if("function"==typeof e){const t=e(this.getContextWithoutSetter());this.setState(t)}else this.setState(this.getContextWithoutSetter(e))})),this.state={...e.initialContext,setContext:this.setContext}}getContextWithoutSetter(e=this.state){const{setContext:t,...s}=e;return s}render(){return a.createElement(i.Provider,{value:this.state},this.props.children)}}},67922:(e,t,s)=>{"use strict";s.d(t,{"Gv":()=>E,"ZS":()=>f});var o=s(67882),l=s.n(o),r=s(68458),n=s(70538),a=s(87001),i=s(30089),c=s(2887),d=s(5444),m=s(24976);const u=(e,t)=>!!t.lookId,h=e=>l()(e,"environment.isTabletDevice"),p=(0,d.P1)(n.XW,(e=>l()(e,"length",0))),y=(0,d.P1)(((e,t)=>t.lookId),(e=>{const t=m.parse(l()(s.g,"location.search","").slice(1)),o=parseInt(t.selectedStyle);return!e||"number"!=typeof o||isNaN(o)?null:o})),k=(0,d.P1)((e=>l()(e,["stylesById","data"])),(e=>l()(e,"productPage.app.productId")),((e,t)=>l()(e,[t,"isAvailable"])?t:null)),I=(0,d.P1)(h,u,y,p,((e,t,s,o)=>{const l=o>=a._.MINIMUM_NUM_LOOKS_TO_SHUFFLE;return!t&&l||t&&e&&!!s&&l})),g=(0,d.P1)(u,p,((e,t)=>e||!!t)),S=(0,d.P1)(h,(e=>l()(e,"environment.viewport.isXXSmallToSmall")),((e,t)=>e||t)),v=(0,d.P1)(i.AX,(e=>e===r.qV.NORDSTROM)),E=(0,d.zB)({currentLook:n.vT,isMobile:e=>l()(e,"environment.isMobileDevice"),preSelectedStyleId:y,shouldRenderLooks:g,shouldRenderMultipleLooks:I,shouldShowLookDetails:v,styleId:k,shouldForceMOWExperience:S}),f={looksFetchByLookIdAction:c.g2,looksFetchByStyleIdAction:c.gL,looksProductSelectionAction:c.TG,looksSeeProductFullDetailsAction:c.zj}},28452:(e,t,s)=>{"use strict";s.d(t,{"Z":()=>C});var o=s(52689),l=s.n(o),r=s(67882),n=s.n(r),a=s(89061),i=s(67922),c=s(60913),d=s.n(c),m=s(87001),u=s(30583),h=s.n(u),p=s(79112),y=s(26908),k=s(93981),I=s(90312),g=s(64525);const S=(0,y.ZP)({resolved:{},chunkName:()=>"looks_shelf",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(602),s.e(2319)]).then(s.bind(s,24138)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return 24138}}),v=(0,y.ZP)({resolved:{},chunkName:()=>"ng_looks",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(7385),s.e(602),s.e(6923)]).then(s.bind(s,38481)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return 38481}}),E=(0,y.ZP)({resolved:{},chunkName:()=>"looks_quick_view",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e(9351).then(s.bind(s,2536)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return 2536}});class f extends k.Component{constructor(e){super(e),l()(this,"handleResize",(()=>{const e=n()(this.looksGallery,"current.galleryRoot.current");if(e){const{clientHeight:t,clientWidth:s}=e;this.setGalleryDimensionsToState(t,s)}})),l()(this,"setCurrentViewTabToState",(e=>{this.setState({currentViewTab:e})})),l()(this,"setGalleryDimensionsToState",((e,t)=>{this.setState({galleryHeight:e,galleryWidth:t})})),l()(this,"setHeaderHeightToState",(()=>{const e=n()(this.header,"current.header.current");if(e){const{clientHeight:t}=e;this.setState({headerHeight:t})}})),l()(this,"handleProductClick",((e,t)=>{const{product:s,lookId:o,slotId:l}=t;e.ctrlKey||e.metaKey?this.props.looksSeeProductFullDetailsAction({lookId:o,styleId:s.styleId,styleNumber:s.styleNumber}):(e.preventDefault(),this.props.looksProductSelectionAction({colorCode:s.colorCode,colorName:s.colorName,consumerId:this.looksDetailConsumerId,lookId:o,slotId:l,styleId:s.styleId,styleNumber:s.styleNumber}))})),l()(this,"renderLooksWrapperWithContext",(({sellingEssentialsHeight:e})=>{const{isMobile:t,lookId:s,look:o,shouldForceMOWExperience:l,shouldShowLookDetails:r}=this.props,n=k.createElement(S,{consumerId:this.looksDetailConsumerId,currentViewTab:this.state.currentViewTab,galleryHeight:this.state.galleryHeight,galleryRef:this.looksGallery,galleryWidth:this.state.galleryWidth,headerRef:this.header,isLookPage:!!s,look:o,onUpdateCurrentViewTab:this.setCurrentViewTabToState,onUpdateGalleryDimensions:this.setGalleryDimensionsToState,onUpdateHeaderHeight:this.setHeaderHeightToState,onProductSelection:this.handleProductClick,shouldForceMOWExperience:!0,shouldShowLookDetails:r});return k.createElement("div",null,k.createElement("div",{className:h()(d().looksWrapper,d().fontWrapper),style:{minHeight:e}},n,k.createElement(g.Z,{headerSlot:null,consumerId:this.looksDetailConsumerId,isLookPage:!0,recommendationsShelfSlot:null,maskSlot:k.createElement(I.Z,null)})))})),this.state={currentViewTab:m._.GALLERY_TAB,galleryHeight:0,galleryWidth:0,headerHeight:0},this.header=k.createRef(),this.looksGallery=k.createRef(),this.looksDetailConsumerId="looks-detail",this.viewedLookIds={}}componentDidMount(){const{lookId:e,looksFetchByLookIdAction:t,looksFetchByStyleIdAction:o,preSelectedStyleId:l,styleId:r}=this.props;s.g.addEventListener("resize",this.handleResize),e&&t(e),r&&(o(r),this.viewedLookIds={})}shouldComponentUpdate(e){return!(!e.currentLook.id&&e.lookId===this.props.lookId&&e.styleId===this.props.styleId&&e.preSelectedStyleId===this.props.preSelectedStyleId)}componentDidUpdate(e,t){const{lookId:s,looksFetchByLookIdAction:o,looksFetchByStyleIdAction:l,preSelectedStyleId:r,styleId:a}=this.props;s&&s!==e.lookId&&o(s),a&&a!==e.styleId&&(l(a),this.viewedLookIds={});const i=n()(this.looksGallery,"current.galleryRoot.current");(i?.clientHeight!==this.state.galleryHeight||i?.clientWidth!==this.state.galleryWidth)&&t.currentViewTab===this.state.currentViewTab&&this.handleResize()}componentWillUnmount(){s.g.removeEventListener("resize",this.handleResize)}render(){const{className:e,consumerId:t,currentLook:s,lookId:o,renderWithWrapper:l,shouldRenderLooks:r,shouldShowLookDetails:n,styleId:i,suppressQuickViewRecs:c}=this.props;if(!r)return null;const m=s.id&&(o||i)?k.createElement(a.HQ,null,k.createElement("div",{className:"looks-shelf"===t?d().marginTop15:null},(0,a.AI)(this.renderLooksWrapperWithContext))):null,u=k.createElement(k.Fragment,null,k.createElement(v,{cardSize:"medium",shouldShowLookDetails:n}),k.createElement(E,{headerHeight:this.state.headerHeight,isLookPage:!!o,suppressQuickViewRecs:c}));return k.createElement(k.Fragment,null,k.createElement("div",{className:h()(d().fontWrapper,e)},l(i?u:m)))}}function N(e,t,s){return"function"!=typeof e.looksFetchByLookIdAction&&"function"!=typeof e.looksFetchByStyleIdAction?new Error(`One of 'looksFetchByStyleIdAction' or 'looksFetchByLookIdAction'\n            was not specified in '${s}'.`):null}f.defaultProps={renderWithWrapper:e=>e,suppressQuickViewRecs:!1};const C=(0,p.$j)(i.Gv,i.ZS)(f)},90312:(e,t,s)=>{"use strict";s.d(t,{"Z":()=>i});var o=s(74735),l=s.n(o),r=s(54943),n=s(25138),a=s(93981);const i=()=>a.createElement("div",{className:l().lookDetailsMask,"data-testid":"selling-essentials-mask"},a.createElement("div",{className:l().stars,"data-testid":"selling-essentials-stars"},a.createElement(n.Z,{rating:0})),a.createElement("div",{"data-testid":"selling-essentials-items"},[...Array(6)].map(((e,t)=>a.createElement("div",{className:l().maskItem,key:t})))),a.createElement("span",{className:l().textStyle},r.u.callToAction))},64525:(e,t,s)=>{"use strict";s.d(t,{"Z":()=>S});var o=s(93981),l=s(79112),r=s(24976),n=s(20488),a=s(36040),i=s(48804),c=s(57721),d=s(2887),m=s(94413),u=s(89061);const h=i.Dk.makeGetSelectedFilter(a.k.color),p="yourlook",y="Looks/Your Look",k="dynamiclooks",I="Looks/Product Page",g=o.memo((({headerSlot:e,consumerId:t,recommendationsShelfSlot:s,setContext:u,isLookPage:g,isModalVisible:S=!1,maskSlot:v})=>{const E=(0,l.I0)(),{lookId:f,styleId:N,styleNumber:C}=(0,l.v9)((e=>e.looks.selectedProductDetails)),b=(0,l.v9)((e=>h(e,{consumerId:t,styleId:N}))),D=(0,l.v9)(c.O7),P=r.stringify({origin:g?p:k,breadcrumb:g?y:I});if(!N)return v;return o.createElement(n.D,{headerSlot:e,styleId:N,consumerId:t,onSeeFullDetailsClick:e=>{const s={lookId:f,styleId:N,styleNumber:C};S&&E((0,d.J1)({isQuickViewVisible:!1,quickViewConsumerId:null})),N!==D||g||(e.preventDefault(),S?u({wasSeeFullDetailsJustTapped:!0}):(0,m.O)(),E((0,i.oV)({[a.k.color]:b},{styleId:N,consumerId:t}))),E((0,d.zj)(s))},defaultFilterSelections:{color:b},recommendationsShelfSlot:s,pdpUrlQuery:P})})),S=(0,u.Iq)((({setContext:e})=>({setContext:e})))(g)},33891:(e,t,s)=>{"use strict";s.d(t,{"ZP":()=>o});const o=s(28452).Z},94413:(e,t,s)=>{"use strict";s.d(t,{"O":()=>o});const o=()=>{(s.g.scrollY||s.g.document.documentElement.scrollTop||s.g.document.body.scrollTop||0)>0&&s.g.scrollTo(0,0)}},94914:(e,t,s)=>{"use strict";s.d(t,{"Z":()=>i});var o=s(93981);let l=function(e){return e.Desktop="desktop",e.Mobile="mobile",e}({});var r=s(5402),n=s(15163),a=s.n(n);const i=({view:e=l.Desktop})=>o.createElement(r.Z,{className:a().errorMessage,view:e})},20488:(e,t,s)=>{"use strict";s.d(t,{"D":()=>$});var o=s(37693),l=s.n(o),r=s(78838),n=s.n(r),a=s(93981),i=s(79112),c=s(86793),d=s(22334),m=s(48804),u=s(61704),h=s(54536),p=s(16866),y=s(16587),k=s(30583),I=s.n(k),g=s(49585),S=s(90630),v=s(36040),E=s(22603),f=s.n(E);const N=a.memo((({className:e,onNextClick:t,onPrevClick:s,selectedColorId:o,styleId:l,productName:r,isFetching:n,mediaShots:i,productImagePrevCopy:c,productImageNextCopy:d})=>{const[m,u]=(0,a.useState)(0),h=0===m,p=m===i.length-1;(0,a.useEffect)((()=>{u(0)}),[o]),(0,a.useEffect)((()=>{n&&u(0)}),[n]);return a.createElement("div",{id:`${l}-product-image`,className:`${e} ${f().productImage}`},i.length>0?a.createElement(a.Fragment,null,a.createElement("div",{className:f().imageContainer},a.createElement("img",{className:f().image,src:i[m]?.imageUrls?.desktop,alt:r})),a.createElement("div",{className:f().buttonContainer},a.createElement("button",{className:I()(f().arrow,{[f().disabled]:h}),onClick:e=>{h||(s&&s(e),u((e=>e-1)))}},a.createElement("span",{className:f().hidden},c),a.createElement(g.Z,{svgPassThrough:{className:f().leftIcon},size:"small"})),a.createElement("span",null,m+1," / ",i.length),a.createElement("button",{className:I()(f().arrow,{[f().disabled]:p}),onClick:e=>{p||(t&&t(e),u((e=>e+1)))}},a.createElement("span",{className:f().hidden},d),a.createElement(S.Z,{svgPassThrough:{className:f().rightIcon},size:"small"})))):null)}));N.displayName="Product Image",N.defaultProps={productName:"",className:"",styleId:null,mediaShots:[],productImageNextCopy:"",productImagePrevCopy:""};const C=(0,i.$j)((function(){const e=m.Dk.makeGetSelectedFilter(v.k.color),t=u.o$.makeGetFiltersOfType(v.k.color),s=u.o$.makeGetStyleModel(),o=e=>u.o$.makeGetModuleFromContainerByHeading("selling_essentials_copy",e),l=o("product_image_prev"),r=o("product_iamge_next");return(o,n)=>{const a=s(o,n),i=a?.productName,c=t(o,n)?.byId,d=Object.values(c||{})?.find((e=>e?.isDefault)),m=e(o,n)||d;return{productName:i,isFetching:o?.stylesById?.fetch?.isFetching,selectedColorId:m,mediaShots:u.o$.makeGetMediaShotsByColor(m)(o,n),productImagePrevCopy:l(o,n)?.text,productImageNextCopy:r(o,n)?.text}}}),null)(N),b=C;var D=s(45512),P=s(42007),x=s(2592),A=s.n(x);const T=a.memo((({gallerySlot:e,buyPackSlot:t,recommendationsShelfSlot:s,headerSlot:o,pagination:l})=>a.createElement("div",{className:A().grid},l,o?a.createElement("div",{className:A().headerSlot},o):null,a.createElement("div",{className:A().gallerySlot},e),a.createElement("div",{className:A().buyPackSlot},t),s?a.createElement("div",{className:A().recommendationsShelfSlot},s):null)));var F=s(92520),L=s(30089);const w="next",H="prev";var M=s(64400),R=s.n(M);const W=a.memo((({onNextClick:e,onPrevClick:t,paginationDirection:s,styleId:o,styleIds:l})=>{const r=(0,i.I0)();if(!l?.length)return null;const n=l.indexOf(null!=o?o:""),c=0===n,d=n===l.length-1,u=s===H,h=s===w,p=u&&0===n||h&&n===l?.length-1,y=u?R().leftIcon:R().rightIcon,k=u?()=>a.createElement(g.Z,{size:"medium",svgPassThrough:{className:y}}):()=>a.createElement(S.Z,{size:"medium",svgPassThrough:{className:y}});return a.createElement("button",{className:I()(R().arrow,{[R().left]:u,[R().right]:h,[R().disabled]:p}),onClick:u?e=>{if(c)return;const s=l[n-1];t?.(e),r((0,m.Rp)({styleId:s}))}:t=>{if(d)return;const s=l[n+1];e?.(t),r((0,m.Rp)({styleId:s}))}},a.createElement(k,null))}));var _=s(94914),Z=s(99530),B=s.n(Z);const G=u.o$.makeGetStyleModel(),O=m.Dk.makeGetPdpUrl(),V=m.Dk.makeGetShopperAuthenticationState(),q=u.o$.makeGetIsAvailable(),U=u.o$.makeGetIsPASEligible(),$=a.memo((({consumerId:e,styleId:t,onSeeFullDetailsClick:s,defaultFilterSelections:o,recommendationsShelfSlot:r=null,headerSlot:k=null,styleIds:I,pdpUrlQuery:g=""})=>{const S=(0,a.useRef)(),v=(0,h.Z)(),E=(0,p.q)(),f=(0,i.I0)(),N=(0,i.v9)((s=>G(s,{styleId:t,consumerId:e}))),C=N?.consumers?.includes(e),x=!l()(N)&&C,A=(0,i.v9)((e=>e.stylesById.fetch.isFetching)),M=(0,i.v9)((e=>e.stylesById.fetch.fetchError)),R=(0,i.v9)((e=>V(e))),Z=(0,i.v9)((e=>q(e))),$=(0,i.v9)((e=>U(e))),z=(0,i.v9)((e=>"NORDSTROM_RACK"===(0,L.AX)(e))),Q=(0,i.v9)((s=>O(s,{styleId:t,consumerId:e}))),Y=(0,a.useMemo)((()=>{if(!g||!Q)return Q;return/\?/.test(Q)?`${Q}&${g}`:`${Q}?${g}`}),[Q,g]);return(0,a.useEffect)((()=>{n()(o,S.current)||(S.current=o,x&&null!==t&&f((0,m.oV)(o,{consumerId:e,styleId:t})))}),[x,o,e,t,f]),(0,a.useEffect)((()=>{x||f((0,u.YY)({styleId:t,consumerId:e,defaultFilterSelections:o}))}),[t,e,x]),(0,a.useEffect)((()=>{const s=R===F.Z.AUTHENTICATED||R===F.Z.REGISTERED;t&&s&&Z&&!z&&$&&x&&f((0,m.fH)(null,{consumerId:e,styleId:t}))}),[t,e,R,Z,z,$,f,x]),(0,a.useEffect)((()=>{t&&!A&&l()(M)&&x&&(v(e,t),E(e,t))}),[A,v,E,t,e,M,x]),l()(M)||A?A?a.createElement("div",{className:B().loading},a.createElement(y.Z,{size:"medium",visible:A})):t?a.createElement("div",{id:"mini-pdp"},a.createElement(T,{pagination:I?a.createElement(a.Fragment,null,a.createElement(W,{paginationDirection:H,styleId:t,styleIds:I}),a.createElement(W,{paginationDirection:w,styleId:t,styleIds:I})):null,headerSlot:k,gallerySlot:a.createElement(b,{styleId:t,consumerId:e}),buyPackSlot:a.createElement(a.Fragment,null,a.createElement("div",{className:B().bottomSpace5},a.createElement(D.a,{consumerId:e,styleId:t,layout:P.Ek.MINI_PDP})),a.createElement("div",{className:B().seeFullDetails},a.createElement(d.Z,{as:c.rU,anchorPassThrough:{to:Y,onClick:s}},"See full details"))),recommendationsShelfSlot:r})):null:a.createElement(_.Z,null)}));$.displayName="MiniPdpContent"},60913:e=>{e.exports={"ndls-layout-breakpoint-medium":"768px","headingWrapper":"Zf8eW","heading":"dEdHA","looksWrapper":"W6vqT","marginTop15":"LLRHx","fontWrapper":"Cx9hQ"}},74735:e=>{e.exports={"stars":"gJrSP","lookDetailsMask":"Bme4Y","maskItem":"Tr1dh","textStyle":"FgCfB"}},15163:e=>{e.exports={"errorMessage":"qD3c2"}},64400:e=>{e.exports={"arrow-height":"45px","arrow-width":"31px","arrow":"r4DcY","left":"LNd8h","right":"xHZQd","rightIcon":"ooIsM","leftIcon":"IeoST","disabled":"m0DuX"}},99530:e=>{e.exports={"loading":"F_uen","seeFullDetails":"FxcYF","flexRow":"C6Cvd","bottomSpace0":"MLmFx","bottomSpace1":"XFxS0","bottomSpace2":"V8MgX","bottomSpace3":"y2GPt","bottomSpace4":"Auf2f","bottomSpace5":"a6qLF","bottomSpace6":"yBjFA","bottomSpace7":"Bv1Hd"}},2592:e=>{e.exports={"ndls-layout-breakpoint-medium":"768px","grid":"cK9QP","gallerySlot":"NSdtW","buyPackSlot":"Oq7xP","recommendationsShelfSlot":"sEJhh","headerSlot":"p1tTS"}},22603:e=>{e.exports={"hidden":"BqTpH","productImage":"Ycdxr","buttonContainer":"ofKHN","imageContainer":"M18VN","image":"TNIMl","arrow":"yg4dU","disabled":"qM1Ea","leftIcon":"uqpn3","rightIcon":"Q6hk4"}}}]);