(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3350],{74982:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>l});var i=n(93981),s=n(24580),a=n(37539),o=n(41283),r=n.n(o);const l=({className:e})=>i.createElement("div",{className:`${e} ${r().multiBrandLogosContainer}`},i.createElement(s.Z,{svgPassThrough:{className:r().nCOMLogo}}),i.createElement(a.Z,{svgPassThrough:{className:r().rackLogo}}))},20663:(e,t,n)=>{"use strict";n.d(t,{"i":()=>i});const i=({isRackEnabled:e=!1})=>"Nordstrom"+(e?" Rack":"")},33312:(e,t,n)=>{"use strict";n.d(t,{"O":()=>r});var i=n(93981),s=n(835),a=n(72540),o=n.n(a);const r=()=>i.createElement(s.Z,{className:o().hiddenInput})},76647:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>a});var i=n(93981),s=n(16587);const a=({size:e,visible:t,children:n,...a})=>i.createElement(s.Z,{size:null!=e?e:"large",visible:null!=t?t:"false"},i.createElement("span",a,n))},65979:(e,t,n)=>{"use strict";n.d(t,{"m_":()=>s,"Li":()=>a,"bR":()=>i});const i={MOBILE_DONE:"MOBILE_DONE",VERIFY_MOBILE:"VERIFY_MOBILE",EMAIL_DONE:"EMAIL_DONE"},s={VERIFIED:"VERIFIED",UNVERIFIED:"UNVERIFIED"},a={ENGAGED:"Engaged",IMPRESSED:"Impressed"}},44661:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>Ft});var i={};n.r(i);var s=n(79112),a=n(37843),o=n(97963),r=n(58855),l=n(93491),c=n.n(l),d=n(52689),m=n.n(d),u=n(67882),h=n.n(u),p=n(93981),E=n(30583),g=n.n(E),C=n(84348),v=n(80897),S=n(8242),k=n(99518),y=n.n(k);const w=()=>p.createElement("div",{className:y().break}),I=()=>p.createElement("div",{className:y().divider},p.createElement(w,null),p.createElement(C.Z,{variant:"small",elementPassThrough:{className:y().text}},"OR"),p.createElement(w,null));var f=n(29653),b=n(8764),N=n(46991),P=n.n(N);const T=({dangerousDlsOverrides:e,buttonPassThrough:t,children:n,className:i,dataElement:s,buttonMessage:a,fullWidth:o,icon:r,iconLocation:l,isAnimated:c,size:d="medium",variant:m="primary",isLoading:u=!1,messageDataElement:h="otp-subtext"})=>p.createElement("div",{className:i},p.createElement(b.Z,{dangerousDlsOverrides:e,buttonPassThrough:t,fullWidth:o,icon:r,iconLocation:l,isAnimated:c,size:d,variant:m,isLoading:u},n),!!a&&p.createElement("span",null,p.createElement(C.Z,{as:"div",elementPassThrough:{className:P().details},variant:"detail"},a)));var A=n(38521);const M=e=>{if(!e)return!1;const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},R=({impressionEvent:e,handleSignInWithCodeClick:t,isLoading:n=!1,value:i=A.Fm.SIGN_IN_WITH_CODE_BUTTON_TEXT,dataElement:s="sign-in-with-code-button",variant:a="primary",dangerousDlsOverrides:o={onClick:t},buttonPassThrough:r,buttonMessage:l=A.Fm.DETAIL_TEXT,messageDataElement:c="otp-subtext"})=>{const[{hasComponentMounted:d},m]=(0,p.useState)({hasComponentMounted:!1});return p.createElement("div",{ref:t=>{return null!==t&&(n=t,void(!d&&e&&M(n)&&(e(),m((e=>({...e,hasComponentMounted:!0}))))));var n}},p.createElement(T,{dangerousDlsOverrides:o,fullWidth:!0,icon:f.Z,iconLocation:"leading",isAnimated:!0,size:"medium",variant:a,buttonPassThrough:r,isLoading:n,buttonMessage:l,dataElement:s,messageDataElement:c},i))},D=({handleSignInWithPasswordClick:e,impressionEvent:t,isDisabled:n})=>{const[{hasComponentMounted:i},s]=(0,p.useState)({hasComponentMounted:!1});return p.createElement("div",{ref:e=>{return null!==e&&(n=e,void(!i&&t&&M(n)&&(t(),s((e=>({...e,hasComponentMounted:!0}))))));var n}},p.createElement(b.Z,{dangerousDlsOverrides:{onClick:e},buttonPassThrough:{disabled:n},fullWidth:!0,isAnimated:!0,size:"medium",variant:"secondary",as:"button"},A.Fm.SIGN_IN_WITH_PASSWORD_BUTTON_TEXT))};var O=n(78632),Z=n.n(O);const L=({primaryButtonSlot:e,secondaryButtonSlot:t,children:n,shouldMarginChildren:i=!0})=>p.createElement("section",{className:Z().wrapper},p.createElement("div",{className:g()(t&&e?Z().children:Z().childrenWithoutSecondaryButton,{[Z().noMargin]:!i})},n),!!e&&p.createElement("div",{className:Z().primaryButton},e),!!t&&p.createElement("div",{className:Z().divider},p.createElement(I,null)),!!t&&p.createElement("div",null,t));var x=n(92666),B=n(99651),_=n(5929),F=n.n(_);const V=({isRackEnabled:e})=>p.createElement("section",{className:F().container},p.createElement(x.Z,{as:"h1",variant:"large"},p.createElement("span",null,"Something went wrong")),p.createElement(C.Z,{as:"div"},p.createElement("span",null,"Call ",p.createElement(B.Z,{isColorError:!1,isRackEnabled:e})," ","for help signing in to your account.")));function z(){return p.createElement("section",{className:F().container},p.createElement(x.Z,{as:"h1",variant:"large"},p.createElement("span",null,"Something’s wrong with our site. We’re on it!")),p.createElement(C.Z,{as:"div"},p.createElement("span",null,"Please try again later.")))}var U=n(70549);function W(){return p.createElement("section",{className:F().container},p.createElement(x.Z,{as:"h1",variant:"large"},p.createElement("span",null,"Your account has been locked")),p.createElement(C.Z,{as:"div"},p.createElement("span",null,"For your security, we’ve locked your account. To unlock your account, ",p.createElement(U.Z,{href:"/signin/password-reset"},"reset your password now"),".")))}var G=n(65979),H=n(56998),K=n(44864);const Y=e=>e?.props?.children?e.props.children:e,X=({actionName:e=""})=>"Access/SignIn/"+e,j=()=>({elements:[{id:"Access/Password",type:H.Z.input}],eventSchema:G.Li.IMPRESSED}),q=()=>({elements:[{id:"Access/SignIn",type:H.Z.button,value:"Sign In"}],eventSchema:G.Li.IMPRESSED}),Q=()=>({elements:[{id:"Access/ChangeEmail",type:H.Z.hyperlink,value:"Use a different email"}],eventSchema:G.Li.IMPRESSED}),$=(e="Sign In with a Code")=>({elements:[{id:X({actionName:"SendOneTimePasscode"}),type:H.Z.button,value:e}],eventSchema:G.Li.IMPRESSED}),J=()=>({elements:[{id:X({actionName:"SignInWithPasswordInstead"}),type:H.Z.button,value:"Sign In with a Password Instead"}],eventSchema:G.Li.IMPRESSED});var ee=n(2973),te=n(90612),ne=n(84763),ie=n(76647),se=n(13741),ae=n.n(se);const oe=({handleSendCodeDefault:e,handleSendNewCode:t,isFetching:n,newCodeSent:i})=>{(0,p.useEffect)((()=>{let t;return i&&(t=setTimeout((()=>{e()}),2e3)),()=>clearTimeout(t)}));const s=()=>i?p.createElement("div",{className:ae().newCodeSent,id:"sent-code-success"},p.createElement(ne.Z,{size:"medium",svgPassThrough:{className:ae().iconSuccess}}),p.createElement("div",null,"New code sent")):n&&!i?p.createElement("span",{id:"sending-code-spinner"},p.createElement("span",{className:ae().sendCodeSpinner},p.createElement(ie.Z,{size:"small",visible:n},p.createElement(p.Fragment,null))),"Sending new code"):n?p.createElement(p.Fragment,null):p.createElement("div",{id:"send-new-code-link"},p.createElement(U.Z,{alt:"send new code link",onClick:t},"Send new code"));return p.createElement("div",{className:ae().wrapper},p.createElement(s,null))};function re(e,t=!1){const n=p.createElement(U.Z,{isBannerError:!0,href:t?"/faq#anchor-link-customer-care":"/browse/customer-service"},"Customer Care");return{ACCOUNT_DISABLED:{"title":p.createElement("span",{"data-cy":"account-disabled-error"},"You won't be able to sign in until you call Customer Service at ",p.createElement(B.Z,{isBannerError:!0,isColorError:!0,isRackEnabled:t}))},BAD_REQUEST:{"title":p.createElement("span",{"data-cy":"bad-request-error"},"Bad Request")},BAD_EMAIL_FORMAT:"Enter the email address this way: name@email.com",HIT_A_SNAG:{"title":p.createElement("span",{"data-cy":"hit-a-snag-error"},"We hit a snag, but we’re working on it"),"message":"Please try signing in again later."},WRONG_CODE:"Check the code we sent you and try again.",WRONG_USER_CREDENTIALS:{"title":p.createElement("span",{"data-cy":"wrong-user-credentials-error"},"Your email or password wasn't recognized"),"message":"Please try again."},MIGRATION_CONFLICT:{"title":p.createElement("span",{"data-cy":"migration-conflict-error"},"Our site hit a snag and we’re unable to sign you in right now"),"message":p.createElement(p.Fragment,null,"Please try again later or reach out to ",n,".")}}[e]}var le=n(88305),ce=n.n(le),de=n(52839);const me=({isRackEnabled:e,logToClickStreamAnalytics:t,sendChallengeCode:n,signInComponent:{challengeInfo:{sessionId:i,deliveryMethod:s,options:o},errorState:{codeEntry:{bannerErrorCode:r,codeEntryFieldErrorCode:l,codeEntryFieldErrorStatus:c}},fetching:{sendingChallenge:d},isSigningIn:m},verifyPin:u})=>{const[E,g]=(0,p.useState)(""),[v,S]=(0,p.useState)(!1),[k,y]=(0,p.useState)(!1);(0,p.useEffect)((()=>{const e=document.querySelector("input[name='code']");e&&e.focus(),t({actionName:h()(a._j,"RENDER_CODE_ENTRY")})}),[t]);const w=()=>{!m&&E.length?u({sessionId:i,code:E}):S(!0)},I=s===de.Xc?o.sms:o.email;return p.createElement("section",{className:ce().container},p.createElement(x.Z,{as:"h1",variant:"medium"},p.createElement("span",null,"Enter your code to sign in")),r&&(()=>{const t=re(r,e);return p.createElement(ee.Z,{divPassThrough:{role:"alert"},title:t.title,variant:"critical","data-cy":"section-error-message"},t.message)})(),p.createElement(C.Z,{as:"div",variant:"medium"},p.createElement("span",null,"This helps keep your account safe from unwanted access.")),p.createElement(C.Z,{as:"div",variant:"medium"},"We sent a code to:",p.createElement("div",null,p.createElement("strong",null,I))),p.createElement(te.Z,{autoFocus:!0,onChange:({value:e})=>(({value:e})=>{g(e)})({value:e}),onKeyPress:e=>(e=>{"Enter"===e.key&&w()})(e),showError:v||c,title:"Enter your code",externalErrorMessage:re(l,e),type:"text",initialValue:E}),p.createElement(oe,{newCodeSent:k&&!d,isFetching:d,handleSendNewCode:()=>{d||(y(!0),g(""),n({sessionId:i,isCodeEntry:!0}))},handleSendCodeDefault:()=>{y(!1)}}),p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:e=>w()},buttonPassThrough:{className:ce().verifySignInButton},isLoading:m},"Verify and Sign in"))};var ue=n(49605);var he=n(20562),pe=n.n(he);const Ee=({errorMessage:e})=>{if("string"!=typeof e)return p.createElement(p.Fragment,null,e);const t=e.indexOf(". ");if(-1===t)return p.createElement("b",null,e);const n=e.slice(0,t+1),i=e.slice(t+2);return p.createElement("span",null,p.createElement("b",null,n),p.createElement("br",null),i)},ge=e=>{if(!(e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e))try{e.scrollIntoView({behavior:"smooth"})}catch{n.g.location.replace("#banner-error")}},Ce=({errorMessage:e})=>p.createElement(C.Z,{as:"div",variant:"medium"},p.createElement("div",{className:pe().errorMessage,ref:e=>null!==e&&ge(e)},p.createElement("div",null,p.createElement(ue.Z,{size:"medium",svgPassThrough:{className:pe().errorIcon}})),p.createElement(Ee,{errorMessage:e}))),ve=({email:e,sessionId:t,sendChallengeCode:n,sendingChallenge:i})=>p.createElement("div",{className:ce().container},p.createElement(C.Z,null,"We’ll send a code to:"),p.createElement(C.Z,null,p.createElement("span",{className:ce().email},p.createElement("strong",null,e))),p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:()=>{i||n({sessionId:t,deliveryMethod:"email",isCodeEntry:!1})}},buttonPassThrough:{},isLoading:i},"Send Code"));var Se=n(29017),ke=n(20433);const ye="EMAIL",we=({options:e,sendChallengeCode:t,sendingChallenge:n,sendCodeSelection:i,sessionId:s})=>p.createElement("div",{className:ce().container},p.createElement(C.Z,{as:"div"},p.createElement("strong",null,"How should we send your code?")),p.createElement(ke.Z,{className:ce().emailOrPhoneSelection,name:"delivery-method",value:ye,onChange:e=>i({deliveryMethod:e.target.value})},p.createElement(Se.Z,{value:ye,name:"Email",defaultChecked:!0},p.createElement("div",null,p.createElement("div",null,"Email"),p.createElement("div",null,p.createElement("strong",null,e.email)))),p.createElement(Se.Z,{className:ce().emailOrPhoneSelection,value:"sms",name:"Sms"},p.createElement("div",null,p.createElement("div",null,"Text message"),p.createElement("div",null,p.createElement("strong",null,e.sms)),p.createElement("div",null,p.createElement("span",{className:ce().dataRates},"Messaging and data rates may apply"))))),p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:()=>{n||t({sessionId:s,isCodeEntry:!1})}},buttonPassThrough:{},isLoading:n},"Send Code"));function Ie(e){const{challengeInfo:{sessionId:t,options:n},errorState:i,fetching:s,hasEmail:a,hasMobile:o,isRackEnabled:r,sendChallengeCode:l,sendCodeSelection:c}=e,d=i.sendCode&&i.sendCode.bannerErrorCode;return p.createElement("div",{className:ce().container},p.createElement(x.Z,{as:"h1",variant:"medium"},p.createElement("span",null,"Let us know it’s you")),d&&p.createElement(Ce,{errorMessage:re(d,r)}),p.createElement(C.Z,{variant:"medium",as:"div"},p.createElement("span",null,"To help keep your account safe from unwanted access, we’ll send you a code to verify.")),a&&!o&&p.createElement(ve,{email:n.email,sendChallengeCode:l,sendingChallenge:s.sendingChallenge,sessionId:t}),a&&o&&p.createElement(we,{options:n,sendChallengeCode:l,sendCodeSelection:c,sendingChallenge:s.sendingChallenge,sessionId:t}))}var fe=n(20663),be=n(75496),Ne=n(29753),Pe=n(29304),Te=n(36103),Ae=n.n(Te);class Me extends p.Component{render(){const{popoverMessage:e,popoverHeaderMessage:t}=this.props;return p.createElement("div",{className:Ae().popoverContainer},p.createElement(Ne.Z,{shouldShowOnMouseEnter:!0,controls:"credit-popover"},p.createElement(Pe.Z,{size:"medium",isFilled:!0})),p.createElement(be.Z,{id:"credit-popover",horizontalAlignment:"center",placement:"bottom",shouldHideOnMouseLeave:!0},p.createElement("section",{className:Ae().popoverHeaderMessage},t),p.createElement("section",{className:Ae().popoverMessage},e)))}}Me.defaultProps={popoverHeaderMessage:p.createElement(C.Z,{variant:"small",as:"span"},p.createElement("b",null," Can I apply without creating a Nordstrom.com account?")),popoverMessage:p.createElement(C.Z,{variant:"small"},"Yes. If you'd like to apply without creating an account, you can apply in-store at any Nordstrom or Nordstrom Rack.")};var Re=n(36207),De=n(33312),Oe=n(56948);const Ze=({bannerErrorCode:e,isRackEnabled:t=!1,className:n})=>{const i=re(e,t);return i.title?p.createElement(ee.Z,{divPassThrough:{role:e===Oe.Z.ACCOUNT_DISABLED?"alert":"status",className:n},title:i.title,variant:"critical"},i.message):null},Le="account-check",xe=({header:e,subheader:t,submitButtonText:n,onSubmit:i,isRackEnabled:o=!1,isCreditApplication:r=!1,isMobile:l=!1,shouldIncludePolicies:c=!1,otpCheckoutExperiment:d=!1,...m})=>{const u=(0,s.I0)(),[{submitHasBeenClicked:E,email:v,emailIsValid:S},k]=(0,p.useState)({submitHasBeenClicked:!1,email:h()(m,"customerProfile.findCustomer.email")||m.email,emailIsValid:!1});(0,p.useEffect)((()=>{u(a.t1.sendBusinessEventLog({elements:[{id:"Access/Email",type:H.Z.input}],eventSchema:G.Li.IMPRESSED}));const e=document.querySelector("input[name='email']");e&&e.focus()}),[]);const y=()=>(i({emailIsValid:null!=S&&S,email:v}),k((e=>({...e,submitHasBeenClicked:!0}))),!1),w=e=>("Enter"===e.key&&y(),!1),f=o?"/privacy":"/browse/customer-service/policy/privacy",N=o?"/terms":"/browse/customer-service/policy/terms-conditions",P=p.createElement(U.Z,{alt:"privacy information link",href:f,size:"small",target:"_blank"},"Privacy Policy"),T=p.createElement(U.Z,{alt:"terms and conditions information link",href:N,size:"small",target:"_blank"},"Terms & Conditions"),A=r?p.createElement("p",{className:F().termsConditions},"By selecting ",p.createElement("strong",null,"Next"),", you agree to our ",P," and ",T,"."):p.createElement(C.Z,{as:"div",variant:"small",elementPassThrough:{}},"By tapping Next, you agree to our ",P," and ",T,"."),M=h()(m.customerProfile,"errorState.findCustomer.bannerErrorCode",""),R=h()(m.customerProfile,"fetching.fetchingCustomerAccount",!1),D=(0,fe.i)({isRackEnabled:o})+".com";return p.createElement("div",{id:Le,className:d?F().otpCheckoutContainer:F().container},p.createElement(x.Z,{as:"h1",variant:"medium",elementPassThrough:{className:g()({[F().smallHeadingContainerNoMargin]:!!M})}},p.createElement("div",null,e)),!!M&&p.createElement(Ze,{bannerErrorCode:M,isRackEnabled:o,className:F().bannerErrorSection}),r&&p.createElement(C.Z,null,p.createElement("span",null,p.createElement("span",{className:F().boldSCAField},"Before you start your credit card application, sign in or create a ",D," account.")," ","This will ensure you can shop online with your new credit card the same day if approved."),p.createElement("div",{className:F().SCAPopover},p.createElement(Me,{popoverHeaderMessage:p.createElement("p",null,"Can I apply without creating a ",D," account?")}))),p.createElement(C.Z,{as:"div",variant:"medium"},p.createElement("span",null,t)),p.createElement("form",{className:F().container},p.createElement(Re.Z,{alt:"email input field",initialValue:v,enableLegacyValidation:!0,enableSuggestion:!0,externalErrorMessage:re("BAD_EMAIL_FORMAT"),onChange:({value:e,isValid:t})=>k((n=>({...n,email:e,emailIsValid:t}))),onKeyPress:w,onEmailSuggestionClick:e=>u(a.Sf.sendEmailSuggestionClickLog(e)),showError:E&&!S,temporarilyDisableClear:R,title:"Email"}),p.createElement(De.O,null),c?A:null,p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:y},buttonPassThrough:{alt:"next button",id:`${Le}-next-button`,className:F().signInButton,onKeyDown:w},isMobile:l,isLoading:R},n)),d&&p.createElement(I,null))};var Be=n(37693),_e=n.n(Be),Fe=n(74392),Ve=n(74982),ze=n(67352),Ue=n(68088),We=n(835),Ge=n(8749),He=n(15044),Ke=n(63869),Ye=n(27022),Xe=n(20148),je=n.n(Xe);const qe=({isRecognized:e})=>p.createElement(p.Fragment,null,p.createElement(C.Z,{elementPassThrough:{className:e?null:je().messageContainer}},de.Ph));var Qe=n(86629),$e=n(63137),Je=n(375),et=n(64375);const tt=({experimentVariant:e})=>{switch(e){case de.aq:return p.createElement($e.Z,{size:de.Gr});case de.SR:return p.createElement(Je.Z,{size:de.Gr});default:return p.createElement(et.Z,{size:de.TE})}},nt=({primaryMessage:e,secondaryMessage:t,experimentVariant:n,openDiscountModal:i})=>p.createElement("div",{className:je().container},p.createElement(C.Z,{as:de.kM,variant:de.TE},p.createElement("div",{id:de.to,className:je().checkoutInfoMessage},p.createElement("div",null,p.createElement(tt,{experimentVariant:n})),p.createElement("div",null,e," ",[de.aq,de.SR].includes(n)&&p.createElement(Fe.Z,{alt:"restrictions apply link",onClick:i},de.kw)))),p.createElement(C.Z,{as:de.kM,variant:de.TE},t));var it=n(84698),st=n(30089);const at=({hideModal:e,isVisible:t,rackInstantDiscountDetails:n,rackInstantDiscountHeadLine:i})=>{const{isMobileDevice:a}=(0,s.v9)(st.Si),o=!(!n||!i);return p.createElement(Ye.Z,{visible:t&&o,hideModal:e,width:a?null:"630px"},p.createElement(it.Z,{closeModal:e,rackInstantDiscountDetails:n,rackInstantDiscountHeadLine:i,includeExtraPadding:!1,isFixedFooter:!1,isVertical:!0}))},ot=({isRackEnabled:e=!1,isRecognized:t=!1,isInstantRackCardMemberDiscountExperimentActive:i=!1,isInstantLoyaltyRackDiscountExperimentActive:o=!1})=>{const r=e&&t&&i&&!o,l=e&&t&&o&&!i,[c,d]=(0,p.useState)(!1),m=()=>d(!0),{cardMemberDiscountDetails:u,memberDiscountDetails:h}=(0,s.v9)(a.Qi),{rackInstantDiscountDetails:E,rackInstantDiscountHeadLine:g}=r?u:l?h:{};return(0,p.useEffect)((()=>{const e=document.getElementById(de.to);if(!M(e))try{e?.scrollIntoView({behavior:de.XP})}catch{n.g.location.replace(de.ES)}}),[]),p.createElement(p.Fragment,null,p.createElement(at,{hideModal:()=>d(!1),isVisible:c,rackInstantDiscountDetails:E,rackInstantDiscountHeadLine:g}),l&&p.createElement(p.Fragment,null,p.createElement(Qe.Z,{name:de.Wx,value:de.j6,renderWhenExperimentIsOff:!0},p.createElement(nt,{primaryMessage:de.Mv,secondaryMessage:de.Ph,experimentVariant:de.j6,openDiscountModal:m})),p.createElement(Qe.Z,{name:de.Wx,value:de.aq},p.createElement(nt,{primaryMessage:de.xH,secondaryMessage:de.Ph,experimentVariant:de.aq,openDiscountModal:m}))),r&&p.createElement(p.Fragment,null,p.createElement(Qe.Z,{name:de.Jx,value:de.j6,renderWhenExperimentIsOff:!0},p.createElement(nt,{primaryMessage:de.Mv,secondaryMessage:de.Ph,experimentVariant:de.j6,openDiscountModal:m})),p.createElement(Qe.Z,{name:de.Jx,value:de.SR},p.createElement(nt,{primaryMessage:de.E0,secondaryMessage:de.Ph,experimentVariant:de.SR,openDiscountModal:m}))),!l&&!r&&p.createElement(nt,{primaryMessage:de.Mv,secondaryMessage:de.Ph,openDiscountModal:m}))},rt={"NCOM":"Nordstrom","NRHL":"Nordstrom Rack","TRUNK_CLUB":"Nordstrom Trunk Club"};var lt=n(16814);const ct=({formerBrand:e,handleClose:t,isOpen:n=!1})=>p.createElement(Ye.Z,{hideModal:t,visible:n,width:"375px"},p.createElement("div",{className:F().container},p.createElement(x.Z,{variant:"medium",as:"h1"},p.createElement("div",{className:F().heading},"Meet your new account!")),p.createElement("div",{className:F().infoContainer},p.createElement(lt.Z,{size:"large",svgPassThrough:{className:F().icon}}),p.createElement(C.Z,{variant:"medium",as:"div"},"Your Nordstrom and Nordstrom Rack accounts are now one.")),p.createElement(C.Z,{variant:"medium",as:"div"},"Use your ",p.createElement("strong",null,rt[e]," password")," to sign in at both brands."),p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:t},buttonPassThrough:{alt:"continue signing in button"}},"Continue Signing In")));var dt=n(16587),mt=n(72540),ut=n.n(mt);const ht=e=>{const t=(0,p.useRef)(null),n=e.isErrorState,i=e.mobileErrorMessage,[s]=(0,p.useState)({isCodeComplete:!1});return p.createElement("span",{id:"otp-code-input"},p.createElement("div",null,p.createElement(te.Z,{name:"otpMobileCodeInput",childRef:t,maxlength:6,title:"",validationErrorMessage:"",className:n?ut().mobileErrorInputBox:ut().mobileInputBox,onChange:t=>(({value:t})=>{6===t.length&&(s.isCodeComplete=!0,e.setOtp({finalCode:t}))})(t),onKeyDown:t=>(t=>{t.key!==A.tW.BACKSPACE&&t.key!==A.tW.DELETE||(n&&e.otpClearErrors(),s.isCodeComplete=!1,e.setOtp({finalCode:A.Ic}))})(t),externalErrorMessage:n?i:"",disabled:e.disabled,autoComplete:"one-time-code",showError:n,isFetchingNewCode:e.isFetchingNewCode,resetEntriesAndPosition:()=>{e.resetPosition()}})))};ht.defaultProps={};const pt=ht,Et=e=>{const t=(0,p.useRef)(null),n=e.numberOfEntries,i=new Array(n).fill(""),s=e.isErrorState,[a]=(0,p.useState)({otpEntries:i,isCodeComplete:!1}),o=e=>{((e,t)=>{if(null!==e[t]&&""!==e[t]){const e=document.getElementsByName(A.Py[t])[0];return e&&(e.selectionEnd=1,e.selectionStart=1),!0}})(a.otpEntries,e)},r=({value:t,isValid:i},s)=>{const o=a.otpEntries;i&&(o[s]=t);const r=(e=>{for(let t=0;t<n;t++)if(""===e[t])return!1;return!0})(o);if(a.isCodeComplete=r,r)(t=>{const n=t.join(A.Ic);e.setOtp({finalCode:n}),a.isCodeComplete=!0})(o);else if(i&&!r&&s<e.numberOfEntries){const e=document.getElementsByName(A.Py[s+1])[0];if(""===e?.value)return e.focus()}};return p.createElement("span",{className:ut().inputEntries,id:"entry-array"},i.map(((i,l)=>p.createElement("div",{key:A.Py[l]},p.createElement(te.Z,{name:A.Py[l],childRef:t,maxlength:1,title:"",validationErrorMessage:"",className:s?ut().errorInputBox:ut().inputBox,onChange:e=>r(e,l),onKeyDown:t=>((t,i)=>{if(t.key===A.tW.BACKSPACE||t.key===A.tW.DELETE){s&&e.otpClearErrors();let n=i;const o=a.otpEntries;a.isCodeComplete=!1,e.setOtp({finalCode:A.Ic}),""===t.target.value&&0!==i&&(n=i-1);const r=document.getElementsByName(A.Py[n])[0];r&&(o[n]=A.Ic,r.focus())}else if(t.key===A.tW.LEFT_ARROW){t.preventDefault();const e=document.getElementsByName(A.Py[i-1])[0];if(void 0!==e)return e.focus()}else if(t.key===A.tW.RIGHT_ARROW){const e=document.getElementsByName(A.Py[i+1])[0];if(i<n-1)return e.focus()}})(t,l),externalErrorMessage:"",disabled:e.disabled,autoComplete:"one-time-code",onClick:()=>o(l),isFetchingNewCode:e.isFetchingNewCode,resetEntriesAndPosition:()=>(a.otpEntries=new Array(n).fill(""),void e.resetPosition())})))))};Et.defaultProps={numberOfEntries:A.aH};const gt=Et;var Ct=n(82683),vt=n.n(Ct);const St=({errorMessage:e="",handleSendCodeDefault:t,handleSendNewCode:n,isFetchingNewCode:i,isOtpSigningIn:s,isRecognized:a=!1,mobileNumber:o,newCodeSent:r,onSubmit:l,otpClearErrors:c,showLoadingSpinner:d,onUnmount:m,inputImpression:u,isMobileDevice:h,isModal:E,bannerErrorCode:C,isRackEnabled:v,resetPosition:S,isOTPSingleField:k=!0})=>{const y=!!e,w=e===de.c9?de.sA:"",I=e===de.c9?de.PY:e,[f,b]=(0,p.useState)({finalCode:""}),[N,P]=(0,p.useState)({impressionTriggered:!1});(0,p.useEffect)((()=>{const t=document.getElementsByName(A.Py[A.Py.length-1])[0];if(t&&e&&!s&&t.focus(),0!==f.finalCode.length){const e=f.finalCode;l({passcode:e}),f.finalCode=""}}),[f,s,a,e,l]),(0,p.useEffect)((()=>(E||S(),()=>m?.())),[]);return p.createElement("div",{className:vt().wrapper},p.createElement(x.Z,{as:"h1",variant:"medium",elementPassThrough:{className:g()({[vt().headerTall]:h||!E,[vt().header]:!(h||!E),[vt().headerWithoutMargin]:!!C})}},de.TD.CODE_ENTRY_HEADER),!!C&&p.createElement(Ze,{bannerErrorCode:C,isRackEnabled:v}),p.createElement("div",{className:g()({[vt().signingInMobileNumber]:d})},de.TD.CODE_ENTRY_MESSAGE," ",o," "),p.createElement("div",{ref:e=>{return null!==e&&(t=e,void(u&&M(t)&&!N.impressionTriggered&&(u(),P({impressionTriggered:!0}))));var t}},d?p.createElement("div",{className:vt().loadingSpinnerContainer},p.createElement(dt.Z,{className:vt().loadingSpinner,size:"medium",visible:!0})):k?p.createElement(pt,{setOtp:b,isErrorState:y,otpClearErrors:c,disabled:s,isFetchingNewCode:i,resetPosition:S,mobileErrorMessage:I}):p.createElement(gt,{setOtp:b,isErrorState:y,otpClearErrors:c,disabled:s,isFetchingNewCode:i,resetPosition:S,numberOfEntries:A.aH})),p.createElement("div",{className:vt().margin}),y&&!k&&p.createElement("div",{className:vt().errorMessageContainer},p.createElement("div",{className:vt().errorMessage},p.createElement(ue.Z,{size:"medium",svgPassThrough:{className:vt().errorIcon}}),p.createElement("b",null,e)),p.createElement("div",{className:vt().errorSubMessage},w)),!d&&p.createElement("div",{className:g()(vt().sendNewCodeWrapper,{[vt().sendNewCodeWrapperNonModal]:!E})},p.createElement(oe,{newCodeSent:r,isFetching:i,handleSendNewCode:n,handleSendCodeDefault:t})))},kt="GROUP_0",yt="GROUP_1A",wt="GROUP_1B",It="GROUP_2",ft="GROUP_3",bt=9e5;class Nt extends p.Component{constructor(e){super(e),m()(this,"handleUsernameChange",(({value:e,isValid:t})=>{this.setState({username:e,usernameIsValid:t})})),m()(this,"handlePasswordChange",(({value:e})=>{this.setState({password:e})})),m()(this,"handleCreateAccountLink",(()=>{const{eventCreateAccountPath:e,isServer:t,history:i}=this.props,s=t?"":window.location.search,a=e?`${e}${s}`:`/signup${s}`;i&&i.push?i.push({pathname:a}):n.g.location.replace(a)})),m()(this,"handleForgetPasswordLink",(()=>{const{history:e,isServer:t}=this.props,i="/signin/password-reset";let s="";if(this.props.logToClickStreamAnalytics({actionName:h()(a._j,"CLICK_FORGOT_PASSWORD")}),!t){if(window.location.pathname.includes("checkout"))s="?ReturnURL="+encodeURIComponent("/checkout");else if(window.location.pathname.includes("cardmember"))s="?ReturnURL="+encodeURIComponent("/signin/cardmember");else if(window.location.pathname.includes("signin")){const e=(new He.Z).getReturnUrl();e&&(s="?ReturnURL="+e)}else s="?ReturnURL="+encodeURIComponent(window.location.href);e&&e.push?e.push({pathname:i,search:s,state:{email:this.state.username}}):n.g.location.replace(i+s)}})),m()(this,"setOTPSendCodeDefault",(()=>{this.props.setIsSendNewCode({isSendNewCode:!1})})),m()(this,"handleSignInSubmission",(()=>{this.setState({submitHasBeenClicked:!0});const{logToClickStreamAnalytics:e,obfuscatedEmail:t,sendBusinessEventLog:n,signInComponent:{isSigningIn:i},startSignIn:s,signinText:o={button:"Sign In"}}=this.props;if(i)return!1;e({actionName:h()(a._j,"CLICK_SIGN_IN_BUTTON")});n((({buttonText:e="Sign In"})=>({action:K.Z.click,element:{id:"Access/SignIn",type:H.Z.button,value:Y(e)},eventSchema:G.Li.ENGAGED}))({buttonText:o.button}));const{password:r,usernameIsValid:l}=this.state;return(t||l)&&r.length&&(s(),this.setState({waitingForPreAuth:!0})),!1})),m()(this,"onInputKeyPress",(e=>{"Enter"===e.key&&this.handleSignInSubmission(e)})),m()(this,"handleLogForgotPasswordEventToClickStreamAnalytics",(()=>{this.props.logToClickStreamAnalytics({actionName:h()(a._j,"CLICK_FORGOT_PASSWORD")})})),m()(this,"handleModalCloseClick",(()=>{this.setState({displayMeetAccountModal:!1})})),m()(this,"handleOTPUnmount",(()=>{const{otpClearState:e,clearCodeAndVerifier:t,preAuthorize:n,showRecognizedView:i}=this.props;e({isMobileVerified:i}),this.props.setIsSendNewCode({isSendNewCode:!1}),t(),n()})),m()(this,"toggleCheckBox",(()=>{this.state.keepMeSignedInIsChecked?(this.props.logToClickStreamAnalytics({actionName:h()(a._j,"UNCHECK_KEEP_ME_SIGNED_IN")}),this.setState({keepMeSignedInIsChecked:!1})):(this.props.logToClickStreamAnalytics({actionName:h()(a._j,"CHECK_KEEP_ME_SIGNED_IN")}),this.setState({keepMeSignedInIsChecked:!0}))})),m()(this,"handlePasswordPopover",((e,t)=>e&&t?p.createElement("span",null,"Sign in with your ",p.createElement("b",null,t)," password."):"Your password is the same at Nordstrom and Nordstrom Rack.")),m()(this,"policyLinks",(()=>{const{isRackEnabled:e}=this.state;return e?{privacyPolicy:"/privacy",termsAndConditions:"/terms"}:{privacyPolicy:"/browse/customer-service/policy/privacy",termsAndConditions:"/browse/customer-service/policy/terms-conditions"}})),m()(this,"composeSignInMessage",((e=!1)=>{const{formerBrand:t,isAccountSignInView:n}=this.state,{isCreditApplication:i,isRackEnabled:s,showRecognizedView:a}=this.props,o=s?"Nordstromrack.com":"Nordstrom.com",r=p.createElement("p",null,"Can I apply without creating a ",o," account?");let l;switch(!0){case!(!e||!rt[t]||"TRUNK_CLUB"===t):l=p.createElement("span",null,"Sign in with your ",p.createElement("b",null,rt[t])," info.");break;case n&&!a:l=p.createElement("span",null,"Sign in with the same info at:");break;case!(!i||!a):l=p.createElement("div",{className:F().SCAMessage},p.createElement("span",{className:F().boldSCAField},"Before you start your credit card application, sign in to your ",o," account.")," ","This will ensure you can shop online with your new credit card the same day if approved.",p.createElement("div",{className:F().SCAPopover},p.createElement(Me,{popoverHeaderMessage:r})));break;default:l=""}return l})),m()(this,"composeSignInHeader",(()=>{const{firstName:e}=this.state,{showRecognizedView:t,obfuscatedEmail:n}=this.props,i=h()(this.props,"customerProfile.findCustomer.email","");let s;switch(!0){case!!(t&&e&&n):s=`Welcome back, ${e}!`;break;case!!i:s="Welcome back!";break;default:s="Sign in"}return s})),m()(this,"handleOTPAuth",(({passcode:e})=>{const{authorizeOtpCode:t,showRecognizedView:n,sendBusinessEventLog:i}=this.props;return i({action:K.Z.type,element:{id:X({actionName:"OneTimePasscode/EnterCode"}),type:H.Z.input,value:""},eventSchema:G.Li.ENGAGED}),t({passcode:e,isRecognized:n}),null})),m()(this,"composeCodeEntry",((e,t=!1)=>{const{isMobileDevice:n,signInComponent:{errorState:{otpSignIn:{showExpiredOtpCodeError:i,showIncorrectOtpCodeError:s},signin:{bannerErrorCode:a}},isOtpSigningIn:o,showLoadingSpinner:r},otpClearErrors:l,showRecognizedView:c,sendBusinessEventLog:d,isRackEnabled:m,isOTPSingleField:u}=this.props,E={[!!i]:"Code expired",[!!s]:"Check the code and try again"}[!0],g=h()(this.props,"signInComponent.fetching.sendingNewOtp",!1),C=h()(this.props,"signInComponent.sendOtp.sms","");return p.createElement(St,{errorMessage:E,handleSendCodeDefault:this.setOTPSendCodeDefault,handleSendNewCode:()=>{this.props.handleOTPSendCode(!0),this.resetCodeEntryCursorPosition()},isOTPSingleField:u,isFetchingNewCode:g,isRecognized:c,mobileNumber:C,newCodeSent:this.props.isSendNewCode&&!g,onSubmit:this.handleOTPAuth,otpClearErrors:l,showLoadingSpinner:r,onUnmount:e,inputImpression:()=>d({elements:[{id:X({actionName:"OneTimePasscode/EnterCode"}),type:H.Z.input,value:""}],eventSchema:G.Li.IMPRESSED}),isMobileDevice:n,isModal:t,isRackEnabled:m,bannerErrorCode:a,resetPosition:this.resetCodeEntryCursorPosition,isOtpSigningIn:o})})),m()(this,"resetCodeEntryCursorPosition",(()=>{const{isOTPSingleField:e,signInComponent:{errorState:{otpSignIn:{showExpiredOtpCodeError:t,showIncorrectOtpCodeError:n}}}}=this.props,i={[!!t]:de.VZ.CODE_EXPIRED,[!!n]:de.VZ.INCORRECT_CODE}[!0];if(e){const e=document.getElementsByName(de.It)[0];e&&e.focus(),i&&e&&(e.current.selectionStart=e.current.value.length,e.current.selectionEnd=e.current.value.length)}else{const e=document.getElementsByName(A.Py[0])[0];e&&e.focus()}}));const t=h()(e,"customerProfile.findCustomer.email",""),i=h()(e,"signInComponent.logging.view","");this.passwordButtonRef=p.createRef(),this.passwordInputRef=p.createRef(),this.useDifferentPWRef=p.createRef();const s=(e=>({isCheckoutView:e===de.YS,isHomepageView:e===de.lM,isAccountSignInView:e===de.LX,isCreditApplicationView:e===de.zI}))(i);this.state={attemptsToCheckForter:1,displayMeetAccountModal:!1,formerBrand:h()(e,"customerProfile.findCustomer.migrationMetadata.formerBrand",null),forterWatcherTimeoutId:null,groupType:h()(e,"customerProfile.findCustomer.migrationMetadata.groupType",null),hasEmail:!!t,isCheckoutView:s.isCheckoutView,isHomepageView:s.isHomepageView,isAccountSignInView:s.isAccountSignInView,isCreditApplication:s.isCreditApplicationView,isMultiBrand:h()(e,"customerProfile.isMultiBrand",!1),isRackEnabled:h()(e,"isRackEnabled",!1),isInstantLoyaltyRackDiscountExperimentActive:h()(e,"isInstantLoyaltyRackDiscountExperimentActive",!1),isInstantRackCardMemberDiscountExperimentActive:h()(e,"isInstantRackCardMemberDiscountExperimentActive",!1),keepMeSignedInIsChecked:h()(e,"customerProfile.findCustomer.shouldCheckPSICheckbox",!1),preAuthTTLTimeoutId:null,preAuthWatcherTimeoutId:null,password:"",submitHasBeenClicked:!1,username:t,usernameIsValid:!!t,waitingForPreAuth:!1,firstName:h()(e,"firstName"),showOTPModal:h()(e,"signInComponent.showOTPModal",!1),showCodeEntry:!1}}componentDidMount(){const{isDevelopment:e,preAuthorize:t,sendBusinessEventLog:n,logToClickStreamAnalytics:i,sendForterCheckLog:s,isFetchingRecognizedUser:o}=this.props;if(i({actionName:h()(a._j,"RENDER_SIGN_IN")}),_e()(this.passwordInputRef.current)||o||n(j()),M(this.passwordButtonRef.current)&&!o&&n(q()),M(this.useDifferentPWRef.current)&&!o&&n(Q()),e||(0,Ke.C)())s({attempts:1,found:!0}),t();else{const e=setInterval((()=>{const e=this.state.attemptsToCheckForter+1;(0,Ke.C)()&&!o?(s({attempts:e,found:!0}),this.clearTimer(this.state.forterWatcherTimeoutId),t()):10===e&&s({attempts:e,found:!1}),this.setState({attemptsToCheckForter:e})}),1e3);this.setState({forterWatcherTimeoutId:e})}if(this.state.email){const e=document.querySelector("input[name='password']");e&&e.focus()}const{isRackEnabled:r}=this.state;(!r&&"GROUP_2"===this.state.groupType&&"NRHL"===this.state.formerBrand||r&&["GROUP_0","GROUP_1A","GROUP_1B","GROUP_2","GROUP_3","GROUP_4"].includes(this.state.groupType)&&"NCOM"===this.state.formerBrand)&&this.setState({displayMeetAccountModal:!0})}componentWillUnmount(){this.clearTimer(this.state.forterWatcherTimeoutId),this.clearTimer(this.state.preAuthTTLTimeoutId),this.clearTimer(this.state.preAuthWatcherTimeoutId)}componentDidUpdate(e){const{authorize:t,clearCodeAndVerifier:n,preAuthorize:i,signInComponent:{code:s,fetchPreAuthorizeFailed:a,verifier:o},showRecognizedView:r,onSignInSuccess:l,sendBusinessEventLog:c,isFetchingRecognizedUser:d}=this.props,{keepMeSignedInIsChecked:m,preAuthTTLTimeoutId:u,preAuthWatcherTimeoutId:p,username:E,password:g,waitingForPreAuth:C,isCheckoutView:v}=this.state,{code:S,fetchPreAuthorizeFailed:k,verifier:y}=e.signInComponent,w=h()(e,"signInComponent.showOTPModal",!1),I=h()(e,"signInComponent.sendOtp.sms",""),f=h()(e,"signInComponent.errorState.bannerErrorCode",""),b=!(!w||!I||f);!_e()(this.passwordInputRef.current)&&b&&v&&!d&&c(j()),M(this.passwordButtonRef.current)&&b&&v&&!d&&c(q());if(s&&o&&s!==S&&o!==y||a&&!k){this.clearTimer(u),this.clearTimer(p);const e=setTimeout((()=>{n()}),295e3),t=setTimeout((()=>{i()}),285e3);this.setState({preAuthTTLTimeoutId:e,preAuthWatcherTimeoutId:t})}C&&(a||s&&o)&&(this.setState({waitingForPreAuth:!1}),t({username:E,password:g,keepMeSignedInIsChecked:m,isRecognized:r,onSignInSuccess:l}))}clearTimer(e){e&&clearTimeout(e)}render(){const{isAccountSignInView:e,isCheckoutView:t,isMultiBrand:n,isRackEnabled:i,keepMeSignedInIsChecked:s,displayMeetAccountModal:a,formerBrand:o,groupType:r,submitHasBeenClicked:l,username:c,usernameIsValid:d,isInstantRackCardMemberDiscountExperimentActive:m,isInstantLoyaltyRackDiscountExperimentActive:u}=this.state,E=[kt,yt,wt,It,ft],v=E&&E.includes(r),{isMobileDevice:S,isCheckoutViewWithExperimentEnabled:k,conflictTextMessageDisclaimer:y,handleEditObfuscatedEmail:w,sendEmailSuggestionClickLog:f,showCreateAccountLink:N=!1,signinText:P={button:"Sign In",message:this.composeSignInMessage(v)},signInComponent:{formerBrand:T,errorState:{signin:{bannerErrorCode:M}},isSigningIn:O,isOtpSigningIn:Z},showPasscodeOption:B,showRecognizedView:_,obfuscatedEmail:V,otpCheckoutExperiment:z,sendBusinessEventLog:W,onRedirectFromCheckoutSignInForm:Y}=this.props,q=h()(this.props,"customerProfile.findCustomer.email",""),Q=h()(this.props,"customerProfile.findCustomer.hasVerifiedMobile",!1),ee=h()(this.props,"signInComponent.isMobileVerified",!1),te=h()(this.props,"signInComponent.fetching.sendingNewOtp",!1),ne=h()(this.props,"signInComponent.fetching.sendingOtp",!1),ie=!!q,se=this.policyLinks(),ae=rt[o]||rt[T],oe=t&&!l&&!M,le=k&&!l&&!M&&!_,ce=Q||ee,me=h()(this.props,"signInComponent.showOTPModal",!1),ue=h()(this.props,"signInComponent.sendOtp.sms",""),he=!(!me||!ue||M&&!z);if(z){let e,t=p.createElement(R,{isLoading:ne&&!te,handleSignInWithCodeClick:()=>{this.setState({showCodeEntry:!0}),Y(),this.props.handleOTPSendCode(!1,de.S5)}}),n=he?p.createElement(D,{handleSignInWithPasswordClick:()=>{this.handleOTPUnmount(),this.props.handleSignInWithPasswordClick()},impressionEvent:()=>W(J()),isDisabled:Z}):null;if(!0===he)return t=null,e=this.composeCodeEntry(this.handleOTPUnmount,!1),p.createElement(L,{primaryButtonSlot:t,secondaryButtonSlot:n,shouldMarginChildren:!1},e)}return p.createElement("div",null,p.createElement("div",{className:F().container},a&&p.createElement(ct,{isOpen:a,formerBrand:o,handleClose:this.handleModalCloseClick}),p.createElement(x.Z,{as:"h1",variant:"medium",elementPassThrough:{className:g()({[F().smallHeadingContainer]:k,[F().smallHeadingContainerNoMargin]:!!M})}},this.composeSignInHeader()),oe&&(k?p.createElement(qe,{isRecognized:_}):p.createElement(ot,{isRackEnabled:i,isRecognized:_,isInstantRackCardMemberDiscountExperimentActive:m,isInstantLoyaltyRackDiscountExperimentActive:u})),!_&&!ie&&N&&p.createElement("p",{className:F().createAccountText},"New to ",i?"Nordstrom Rack":"Nordstrom","? ",p.createElement(Fe.Z,{alt:"create account link",onClick:this.handleCreateAccountLink},"Create an account"),"."),!!M&&p.createElement(Ze,{bannerErrorCode:M,isRackEnabled:i,className:F().bannerErrorSection}),(e&&!_||le)&&p.createElement(p.Fragment,null,e&&p.createElement("div",{className:F().message},P.message),p.createElement(Ve.Z,null)),p.createElement("form",{id:"sign-in",className:F().container},_?p.createElement("div",null,p.createElement("div",null,P.message),p.createElement("div",{ref:this.useDifferentPWRef},p.createElement("div",null,p.createElement("strong",null,"Email"),p.createElement("br",null),V),p.createElement(Fe.Z,{alt:"Use a different email link",className:F().recognizedEditLink,onClick:()=>w()},"Use a different email"))):ie?p.createElement(ze.Z,{email:c,handleEditClick:()=>this.props.onEdit(c)}):p.createElement(Re.Z,{alt:"username input field",clearTimeInMsec:bt,enableLegacyValidation:!0,enableSuggestion:!0,externalErrorMessage:re("BAD_EMAIL_FORMAT"),onChange:this.handleUsernameChange,onKeyPress:this.onInputKeyPress,onEmailSuggestionClick:f,showError:l&&!d?"error":null,temporarilyDisableClear:O,title:"Email"}),p.createElement(Ue.$,{email:c}),p.createElement("div",{className:F().passwordInput,ref:this.passwordInputRef},p.createElement(We.Z,{alt:"password input field",autoFocus:ie,clearTimeInMsec:bt,enableValidation:!0,shouldShowRequirements:!1,formerBrand:ae,isCheckoutView:t,isMultiChannelUpgrade:v,onChange:this.handlePasswordChange,onKeyPress:this.onInputKeyPress,popoverMessage:this.handlePasswordPopover(v,ae),showError:(t||v)&&"WRONG_USER_CREDENTIALS"===M,showPasswordPopover:n||v,temporarilyDisableClear:O,title:"Password",validationErrorMessage:"",impressionEvent:()=>W(j()),showCodeEntry:he})),p.createElement("div",null,p.createElement(Fe.Z,{alt:"forgot password link",onClick:this.handleForgetPasswordLink},"Forgot password?")),p.createElement(Ge.Z,{isCheckoutView:t,keepMeSignedInIsChecked:s,toggleCheckBox:this.toggleCheckBox}),y&&p.createElement("div",{className:F().textMessageLegalDisclaimer},"If you have an unverified mobile number linked to your account, by tapping Sign In you agree to us sending you a text to verify your mobile number."),(!ie||k)&&p.createElement(C.Z,{as:"div",variant:"small"},p.createElement("div",{className:F().termsConditions},"By signing in to your account, you agree to our ",p.createElement(U.Z,{alt:"privacy information link",href:se.privacyPolicy,size:"small",target:"_blank"},"Privacy Policy")," and ",p.createElement(U.Z,{alt:"terms and conditions information link",href:se.termsAndConditions,size:"small",target:"_blank"},"Terms & Conditions"),".")),p.createElement(b.Z,{size:"medium",variant:"primary",dangerousDlsOverrides:{onClick:e=>this.handleSignInSubmission(e)},buttonPassThrough:{alt:"sign in button",className:g()({[F().button]:t}),onKeyDown:e=>this.onInputKeyPress(e)},isLoading:O,ref:this.passwordButtonRef},P.button))),k&&ce&&p.createElement("div",{className:F().orDivider},p.createElement(I,null)),p.createElement("div",null,B&&ce&&p.createElement(p.Fragment,null,p.createElement("div",{className:k?F().otpContainerCheckout:F().otpContainer},p.createElement(R,{isLoading:ne&&!te,handleSignInWithCodeClick:()=>{this.setState({showCodeEntry:!0}),this.props.handleOTPSendCode(!1,"Sign In with a Code Instead")},value:de.S5,dataElement:"otp-button",buttonPassThrough:{alt:"otp button",className:F().otpButton,onKeyDown:e=>this.onInputKeyPress(e)},variant:"secondary",buttonMessage:de.iz,impressionEvent:()=>ne?{}:W($("Sign In with a Code Instead")),messageDataElement:"otp-subtext"})),p.createElement(Ye.Z,{visible:he,width:S?A.Xo:A.PS,hideModal:()=>{W({action:K.Z.click,element:{id:X({actionName:"OneTimePasscode/CloseModal"}),type:H.Z.button,value:"X"},eventSchema:G.Li.ENGAGED}),this.handleOTPUnmount()},layout:"horizontal",onTransitionInEnd:this.resetCodeEntryCursorPosition},this.composeCodeEntry(null,!0)))))}}Nt.defaultProps={conflictTextMessageDisclaimer:!1,eventCreateAccountPath:"",isCreditApplication:!1,onFailure:()=>{},onSuccess:()=>{}};var Pt=n(33089),Tt=n(4226),At=n(44889),Mt=n.n(At);const Rt=({hideModal:e,isVisible:t,unknownEmail:n,isMobile:i,setIsCheckingOutAsGuestAction:o})=>{const r=(0,s.I0)();return p.createElement(Ye.Z,{visible:t,width:i?"350px":"450px",hideModal:e,onTransitionOutEnd:()=>(()=>{const e=document.querySelector("input[name='email']");e&&e.focus()})(),onTransitionInEnd:()=>r(a.t1.sendBusinessEventLog({action:K.Z.click,elements:[{id:X({actionName:"NoAccountAvailable/Edit"}),type:H.Z.button,value:"Edit"}],eventSchema:G.Li.IMPRESSED}))},p.createElement(Tt.Z,null,de.hg.HEADER),p.createElement("div",{className:Mt().topContainerMargin},p.createElement("p",{className:Mt().details},de.hg.MESSAGE),p.createElement(ze.Z,{email:n,handleEditClick:()=>e("Edit")}),p.createElement(b.Z,{dangerousDlsOverrides:{onClick:()=>{e(),o({isCheckingOutAsGuest:!0,triggerText:de.hU})}},buttonPassThrough:{className:Mt().topBtnMargin,type:"button"},isAnimated:!0,size:"small",variant:"primary",fullWidth:!0},de.hU)))};var Dt=n(93165),Ot=n.n(Dt);const Zt=({isRackEnabled:e=!1,componentName:t=""})=>{const n=(e=>e?{privacyPolicy:"/privacy",termsAndConditions:"/terms"}:{privacyPolicy:"/browse/customer-service/policy/privacy",termsAndConditions:"/browse/customer-service/policy/terms-conditions"})(e);return p.createElement(C.Z,{as:"div",variant:"small"},p.createElement("div",{className:Ot().termsConditions},"By signing in to your account, you agree to our ",p.createElement(U.Z,{alt:"privacy information link",href:n.privacyPolicy,size:"small",target:"_blank"},"Privacy Policy")," and ",p.createElement(U.Z,{alt:"terms and conditions information link",href:n.termsAndConditions,size:"small",target:"_blank"},"Terms & Conditions"),"."))};var Lt=n(46050),xt=n.n(Lt);const Bt=({email:e,handleEditClick:t,showRecognizedView:n=!1,firstName:i,isRackEnabled:s=!1,impressionEvent:a})=>{const[{hasComponentMounted:o},r]=(0,p.useState)({hasComponentMounted:!1});return p.createElement("div",{className:xt().wrapper,ref:e=>{return null!==e&&(t=e,void(!o&&n&&a&&M(t)&&(a(),r((e=>({...e,hasComponentMounted:!0}))))));var t}},p.createElement(x.Z,{as:"h1",variant:"medium",elementPassThrough:{className:xt().header}},n?`${de.Ff.HEADER}, ${null!=i?i:"Shopper"}!`:`${de.Ff.HEADER}!`),p.createElement(C.Z,{as:"div",variant:"medium",elementPassThrough:{className:xt().subheader}},de.Ff.SUBHEADER),p.createElement(ze.Z,{email:e,handleEditClick:t,showRecognizedView:n}),p.createElement("div",{className:xt().termsAndConditions},p.createElement(Zt,{isRackEnabled:s,componentName:de.s_})))};class _t extends p.Component{constructor(e){super(e),m()(this,"toggleOTPCheckoutView",((e=!0)=>{const{setShowGuestCheckoutAction:t,setHideGuestCheckoutAction:n}=this.props;e&&n(!1),t(!e)})),m()(this,"handleEmailEntrySubmit",(({emailIsValid:e,email:t,isCheckoutView:n})=>{const{sendBusinessEventLog:i,customerProfile:s,email:o,logToClickStreamAnalytics:r,fetchFindCustomer:l,isAccountCheckModal:c,otpCheckoutExperiment:d=!1}=this.props;i(n?{action:K.Z.click,element:{id:X({actionName:"ContinueToCheckout"}),type:H.Z.button,value:"Continue to Checkout"},eventSchema:G.Li.ENGAGED}:{action:K.Z.click,element:{id:"Access/Next",type:H.Z.button,value:"Next"},eventSchema:G.Li.ENGAGED});const m=n&&d;e&&!s?.fetching?.fetchingCustomerAccount&&(r({actionName:h()(a._j,"CLICK_SISU_NEXT_BUTTON")}),l({email:null!=t?t:o,isAccountCheckModal:c,suppressCreateAccount:m,isCheckoutView:n}))})),m()(this,"handleSignInWithPasswordClick",(()=>{const{onRedirectToCheckoutSignInForm:e,sendBusinessEventLog:t}=this.props;t({action:K.Z.click,element:{id:X({actionName:"SignInWithPasswordInstead"}),type:H.Z.button,value:"Sign In with a Password Instead"},eventSchema:G.Li.ENGAGED}),e()})),m()(this,"suppressRecognizedView",(()=>{this.props.signOut({isRecognized:!0})})),m()(this,"onEdit",(e=>{const{otpClearState:t,onDisplayAccountCheckComponent:n,sendBusinessEventLog:i,otpClearErrors:s}=this.props;i({action:K.Z.click,element:{id:X({actionName:"EditEmail"}),type:H.Z.hyperlink,value:"Edit"},eventSchema:G.Li.ENGAGED});h()(this.props,"signInComponent.sendOtp.sms","")&&t({isMobileVerified:!1}),s(),n({email:e})})),m()(this,"handleEditObfuscatedEmail",(()=>{const{sendBusinessEventLog:e}=this.props;e({action:K.Z.click,element:{id:"Access/ChangeEmail",type:H.Z.hyperlink,value:"Use a different email"},eventSchema:G.Li.ENGAGED}),this.suppressRecognizedView()})),m()(this,"handleOTPSendCode",((e,t)=>{const{showRecognizedView:n}=this.state,{otpClearErrors:i,sendOtpCode:s,sendBusinessEventLog:a}=this.props,o=h()(this.props,"customerProfile.findCustomer.email","");return e?(this.setState({isSendNewCode:!0}),a({action:K.Z.click,element:{id:X({actionName:"OneTimePasscode/SendNewCode"}),type:H.Z.button,value:"Send new code"},eventSchema:G.Li.ENGAGED}),i()):a(((e="Sign In with a Code")=>({action:K.Z.click,element:{id:X({actionName:"SendOneTimePasscode"}),type:H.Z.button,value:e},eventSchema:G.Li.ENGAGED}))(t)),s({email:o,sendingNewOtp:e,isRecognized:n}),!1})),m()(this,"withOrDivider",(e=>p.createElement("div",{className:F().withOrDivider},p.createElement("div",null,e),p.createElement("div",{className:F().orDivider},p.createElement(I,null)))));const{shopper:{Context:{AuthenticationState:t}},obfuscatedEmail:n,loadInitialStateForCustomerProfile:i,loadInitialStateForSignInComponent:s,team:o,view:r}=e;r&&o&&(s({configuration:{...e},team:o,view:r}),i({configuration:{...e},team:o,view:r}));const l=(0,a.yB)(n),c=(0,a.Fm)(),d=!!l&&(2===t||c),u=(null!=r?r:"")===de.YS,E=(0,S.lJ)(de.Wx,[de.aq])(e)[0]||(0,S.lJ)(de.Wx,[de.j6])(e)[0],g=(0,S.lJ)(de.Jx,[de.SR])(e)[0]||(0,S.lJ)(de.Jx,[de.j6])(e)[0];this.state={AuthenticationState:t,obfuscatedEmail:l,isRecognizedCheckoutView:u,isInstantLoyaltyRackDiscountExperimentActive:E,isInstantRackCardMemberDiscountExperimentActive:g,showRecognizedView:d,isSendNewCode:!1}}componentDidMount(){const{activeAuthRefresh:e,fetchRecognizedUser:t,signInComponent:{showActiveAuthRefreshSpinner:n},showPasscodeOption:i}=this.props,{isRecognizedCheckoutView:s}=this.state,{showRecognizedView:o}=this.state,r=(0,a.lc)();n?e({onFailure:()=>{o&&i&&t({ocpId:r,isCheckoutView:s})}}):o&&i&&t({ocpId:r,isCheckoutView:s})}componentDidUpdate(e){const{customerProfile:t,logToClickStreamAnalytics:n,signInComponent:{isChallenged:i,isEnteringChallengeCode:s}}=this.props,o=h()(t,"shouldRedirectUser",!1),r=h()(t,"routePath","/signup"),l=h()(t,"history",null),c=h()(window,"location.search","");o&&l&&l.push(r+c),!i||e.signInComponent.isChallenged||s||n({actionName:h()(a._j,"RENDER_SEND_CODE")})}handleUnknownUserModalClose(e="X"){const{sendBusinessEventLog:t,closeUnknownUserModal:n}=this.props;let i=e;const{triggeredBy:s=""}=e;switch(s){case"modalCloseButton":i="X";break;case"modalBackground":i=""}t(((e="X")=>({action:K.Z.click,element:{id:X({actionName:"NoAccountAvailable/Close"}),type:H.Z.button,value:e},eventSchema:G.Li.ENGAGED}))(i)),n()}wrapComponent(e,t=!1){const{customerProfile:n,environment:{isMobileDevice:i},setIsCheckingOutAsGuestAction:s}=this.props,a=h()(n,"isUnknownUserModalVisible",!1),o=h()(n,"findCustomer.email","");return p.createElement(C.Z,{as:"section",elementPassThrough:{className:g()({[F().otpCheckoutWrapper]:t})}},e,p.createElement(Rt,{isVisible:a,isMobile:i,unknownEmail:o,hideModal:e=>this.handleUnknownUserModalClose(e),setIsCheckingOutAsGuestAction:s}))}render(){const{authorize:e,authorizeOtpCode:t,clearCodeAndVerifier:n,customerProfile:s,conflictTextMessageDisclaimer:a,environment:{isDevelopment:o,isIOS:r,isMobileDevice:l,isServer:d,browser:m},eventCreateAccountPath:u,featureFlags:{isRackEnabled:E}={},history:g,isAccountCheckModal:C,isSignInContext:S,logToClickStreamAnalytics:k,onDisplayAccountCheckComponent:y,otpCheckoutExperiment:w=!1,otpClearState:I,otpClearErrors:f,preAuthorize:b,sendBusinessEventLog:N,sendChallengeCode:P,sendOtpCode:T,sendCodeSelection:A,sendEmailSuggestionClickLog:M,sendForterCheckLog:O,showAccountCheckExperience:Z,showPasscodeOption:x,onSignInSuccess:B,isCreditApplication:_,showCreateAccountLink:F,signInComponent:U,signInComponent:{logging:{view:G,team:H},hasLockedAccount:K,hasCredsRecordDisabled:Y,isChoosingCodeDeliveryMethod:X,isForbidden:j,isFetchingRecognizedUser:q,isEnteringChallengeCode:ee,showActiveAuthRefreshSpinner:te,redirectToRecognizedCheckoutSignInForm:ne=!1},signinText:ie,startSignIn:se,verifyPin:ae,shopper:{Name:{First:oe},Context:{AuthenticationState:re}},email:le,onRedirectFromCheckoutSignInForm:ce,setHideGuestCheckoutAction:ue,setShowGuestCheckoutAction:he,isOTPSingleField:pe}=this.props,{isRecognizedCheckoutView:Ee,isInstantLoyaltyRackDiscountExperimentActive:ge,isInstantRackCardMemberDiscountExperimentActive:Ce,showRecognizedView:ve,obfuscatedEmail:Se}=this.state,ke=h()(s,"shouldRedirectUser",!1),ye=h()(s,"redirectToGuestCheckoutSignInForm",!1),we=te||ke,fe=h()(s,"showAccountCheckComponent",Z),be=d&&2===re||q,Ne=!(!h()(this.props,"signInComponent.showOTPModal",!1)||!h()(this.props,"signInComponent.sendOtp.sms","")||h()(this.props,"signInComponent.errorState.bannerErrorCode","")),Pe=h()(this.props,"signInComponent.fetching.sendingNewOtp",!1),Te=h()(this.props,"signInComponent.fetching.sendingOtp",!1),Ae=ye||ne,Me=h()(s,"componentView","SIGNIN"),Re=(null!=G?G:"")===de.YS||Ee,De=G===de.YS||G===de.LX||G===de.$6||G===de.VY,Oe=!we&&!ve&&fe&&De,Ze=!we&&w&&!Ae&&!Ne,Le=Ze&&Re&&ve,Be=Re&&w;let _e,Fe=Ze?p.createElement(R,{isLoading:Te&&!Pe,handleSignInWithCodeClick:()=>{this.handleOTPSendCode(!1),ce?.()},impressionEvent:()=>Te?{}:N($("Sign In with a Code"))}):null,Ve=Ze?p.createElement(D,{handleSignInWithPasswordClick:()=>this.handleSignInWithPasswordClick(),impressionEvent:()=>Te?{}:N(J())}):null,ze=p.createElement(i.CheckoutAsGuestButton,{onClick:()=>{},isMobileDevice:l});switch(!0){case!!we:w&&ue(!0),_e=p.createElement(Pt.Z,{view:de.gm});break;case!!K:w&&(ue(!1),he(!0)),_e=w?this.withOrDivider(p.createElement(W,null)):p.createElement(W,null);break;case!!Y:w&&this.toggleOTPCheckoutView(!1),_e=w?this.withOrDivider(p.createElement(V,{isRackEnabled:E})):p.createElement(V,{isRackEnabled:E});break;case!!j:w&&this.toggleOTPCheckoutView(!1),_e=w?this.withOrDivider(p.createElement(z,null)):p.createElement(z,null);break;case!!X:w&&ue(!0),_e=p.createElement(Ie,c()({},U,{isRackEnabled:E,sendChallengeCode:P,sendCodeSelection:A}));break;case!!ee:w&&ue(!0),_e=p.createElement(me,{isRackEnabled:E,logToClickStreamAnalytics:k,sendChallengeCode:P,signInComponent:U,verifyPin:ae});break;case!!be:w&&ue(!0),_e=p.createElement(Pt.Z,{view:de.pA});break;case Oe:w&&this.toggleOTPCheckoutView(!1),_e=p.createElement(xe,{customerProfile:s,email:le,header:w?de.MV.HEADER:de.mQ.HEADER,isCreditApplication:!w&&_,isMobile:l,isRackEnabled:E,onSubmit:({emailIsValid:e,email:t})=>this.handleEmailEntrySubmit({emailIsValid:e,email:t,isCheckoutView:Re}),shouldIncludePolicies:!w,subheader:w?de.MV.SUBHEADER:de.mQ.SUBHEADER,submitButtonText:w?de.MV.SUBMIT_BUTTON_TEXT:de.mQ.SUBMIT_BUTTON_TEXT,otpCheckoutExperiment:w&&G===de.YS});break;case Le:w&&this.toggleOTPCheckoutView(),_e=p.createElement(L,{primaryButtonSlot:Fe,secondaryButtonSlot:Ve,tertiaryButton:ze},p.createElement(Bt,{email:Se,handleEditClick:this.handleEditObfuscatedEmail,showRecognizedView:ve,firstName:oe,isRackEnabled:E,impressionEvent:()=>Le?N(Q()):{}}));break;case"SIGNUP"===Me:w&&ue(!0),_e=p.createElement(v.N6,{isAccountCheckModal:C,onSuccess:B,team:H,view:G});break;default:w&&this.toggleOTPCheckoutView(),_e=Ze&&!ve?p.createElement(L,{primaryButtonSlot:Fe,secondaryButtonSlot:Ve,tertiaryButtonSlot:ze},p.createElement(Bt,{email:h()(this.props,"customerProfile.findCustomer.email",""),handleEditClick:this.onEdit,isRackEnabled:E})):p.createElement(Nt,{authorize:e,authorizeOtpCode:t,browser:m,clearCodeAndVerifier:n,conflictTextMessageDisclaimer:a,customerProfile:s,eventCreateAccountPath:u,firstName:oe,history:g,isCreditApplication:_,isDevelopment:o,isFetchingRecognizedUser:q,isInstantLoyaltyRackDiscountExperimentActive:ge,isInstantRackCardMemberDiscountExperimentActive:Ce,isIOS:r,isMobileDevice:l,isRackEnabled:E,isServer:d,isSignInContext:S,logToClickStreamAnalytics:k,obfuscatedEmail:Se,onDisplayAccountCheckComponent:y,onSignInSuccess:B,otpCheckoutExperiment:w,otpClearErrors:f,otpClearState:I,preAuthorize:b,sendBusinessEventLog:N,sendEmailSuggestionClickLog:M,sendForterCheckLog:O,sendOtpCode:T,showCreateAccountLink:F,showPasscodeOption:x,showRecognizedView:ve,signInComponent:U,signinText:ie,startSignIn:se,suppressRecognizedView:this.suppressRecognizedView,onEdit:this.onEdit,handleEditObfuscatedEmail:this.handleEditObfuscatedEmail,handleOTPSendCode:this.handleOTPSendCode,isSendNewCode:this.state.isSendNewCode,setIsSendNewCode:({isSendNewCode:e})=>this.setState({isSendNewCode:e}),isCheckoutViewWithExperimentEnabled:Re&&w,handleSignInWithPasswordClick:this.handleSignInWithPasswordClick,onRedirectFromCheckoutSignInForm:ce,isOTPSingleField:pe})}return this.wrapComponent(_e,Be)}}_t.defaultProps={history:{},showAccountCheckExperience:!1};const Ft=(0,s.$j)((e=>({config:e.config,environment:e.environment,featureFlags:e.featureFlags,customerProfile:e.customerProfile,signInComponent:e.signInComponent,shopper:e.shopper,experiments:e.experiments,isOTPSingleField:(0,a.j$)(e)})),{...a.t1,...o.t1,...a._n,...o._n,...a.Sf,...o.Sf,loadInitialStateForCustomerProfile:o.kF,loadInitialStateForSignInComponent:a.kF,setShowGuestCheckoutAction:r.cI,setIsCheckingOutAsGuestAction:r.rL,setHideGuestCheckoutAction:r.Ux})(_t)},52839:(e,t,n)=>{"use strict";n.d(t,{"s_":()=>i,"Xc":()=>s,"Mv":()=>a,"xH":()=>o,"Ph":()=>r,"E0":()=>l,"to":()=>c,"ES":()=>d,"kw":()=>m,"XP":()=>u,"hg":()=>h,"iz":()=>p,"S5":()=>E,"kM":()=>g,"TE":()=>C,"Gr":()=>v,"Wx":()=>S,"j6":()=>k,"aq":()=>y,"Jx":()=>w,"SR":()=>I,"LX":()=>f,"gm":()=>b,"YS":()=>N,"zI":()=>P,"lM":()=>T,"pA":()=>A,"cu":()=>M,"VY":()=>R,"$6":()=>D,"mQ":()=>O,"Ff":()=>Z,"MV":()=>L,"sA":()=>x,"c9":()=>B,"PY":()=>_,"It":()=>F,"TD":()=>V,"hU":()=>z,"VZ":()=>U});const i="otp-welcome-back",s="sms",a="In The Nordy Club? Sign in to earn points on your purchase.",o="Sign in to get the 1% discount as a Nordy Club member.",r="Use your account for faster checkout and easy order tracking.",l="Sign in to get the 5% discount with your Nordstrom credit card.",c="checkout-info-message",d="#checkout-info-message",m="Restrictions apply",u="smooth",h={HEADER:"We couldn't find your account",MESSAGE:"There’s no account associated with that email. Try a different email or continue as a guest. You can create an account during checkout."},p="A one time code will be sent to the mobile number associated with your account. Messaging and data rates may apply.",E="Sign In with a Code Instead",g="div",C="medium",v="large",S="loyalty_member_1_percent_discount",k="default",y="loyaltymemberdiscount",w="cardmember_5_percent_discount",I="cardmemberdiscount",f="account-sign-in",b="active-refresh",N="checkout",P="credit-sign-in",T="homepage",A="recognized-sign-in",M="sign-in-modal",R="account-sign-in-anniversary",D="credit-sign-in",O={HEADER:"Sign In | Create Account",SUBHEADER:"Enter your email to get started.",SUBMIT_BUTTON_TEXT:"Next"},Z={HEADER:"Welcome back",SUBHEADER:"We’ll send a one time code to the phone number associated with your account. No password needed."},L={HEADER:"Enter your email",SUBHEADER:"We’ll look up your account for faster checkout and easy order tracking.",SUBMIT_BUTTON_TEXT:"Continue to Checkout"},x="Send a new code and try again.",B="Code expired",_="Code expired. Send a new code and try again.",F="otpMobileCodeInput",V={CODE_ENTRY_HEADER:"Enter code",CODE_ENTRY_MESSAGE:"We sent a code to:"},z="Continue to Guest Checkout",U={CODE_EXPIRED:"Code expired",INCORRECT_CODE:"Check the code and try again"}},33089:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>r});var i=n(93981),s=n(16587),a=n(5929),o=n.n(a);const r=({view:e})=>i.createElement("div",{className:o().spinner},i.createElement(s.Z,{size:"large",visible:!0}))},86:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>r});var i=n(93981),s=n(8764),a=n(62948),o=n.n(a);const r=e=>{const{className:t,handlePrimaryClick:n,handleSecondaryClick:a,hideSecondaryButton:r=!1,isDisabled:l=!1,primaryText:c="Save & Continue",secondaryText:d="Cancel"}=e;return i.createElement("div",{className:t||""},i.createElement(s.Z,{variant:"primary",size:"medium",isAnimated:!1,buttonPassThrough:{id:"modal-save",disabled:l,onClick:n,type:"button"}},c),!r&&i.createElement(s.Z,{variant:"tertiary",size:"medium",isAnimated:!1,buttonPassThrough:{id:"modal-cancel",className:o().modalCancelButton,onClick:a,type:"button"}},d))}},32216:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>c});var i=n(93981),s=n(30583),a=n.n(s),o=n(62948),r=n.n(o);const l=e=>{const{content:t,footer:n,id:s,includeExtraPadding:o=!0,isFixedFooter:l=!0,isVertical:c=!1}=e,d=Boolean(n);return i.createElement("div",{className:a()(r().wrapper,{[r().verticalWrapper]:c},{[r().extraHeightWrapper]:o}),id:s},i.createElement("div",{className:a()(r().content,{[r().hasFooter]:d&&o},{[r().extraPaddingContent]:o})},t),n&&i.createElement("div",{className:a()(r().footer,{[r().styledFooter]:!c},{[r().fixedFooter]:l})},n))};l.displayName="ModalWrapper";const c=l},84698:(e,t,n)=>{"use strict";n.d(t,{"Z":()=>h});var i=n(93981),s=n(30583),a=n.n(s),o=n(67168),r=n.n(o),l=n(92666),c=n(32216),d=n(86),m=n(68944),u=n.n(m);const h=({closeModal:e,rackInstantDiscountDetails:t,rackInstantDiscountHeadLine:n,includeExtraPadding:s=!0,isFixedFooter:o=!0,isVertical:m=!1})=>i.createElement(c.Z,{id:"merge-bag-message",content:i.createElement("div",null,i.createElement(l.Z,{as:"h2"},r()(n)),i.createElement("div",null,r()(t))),footer:i.createElement(d.Z,{handlePrimaryClick:()=>e(),hideSecondaryButton:!0,primaryText:"Close",className:a()({[u().closeButton]:m})}),includeExtraPadding:s,isFixedFooter:o,isVertical:m})},36103:e=>{e.exports={"popoverHeaderMessage":"P4grA","popoverMessage":"Z9rQz","popoverContainer":"RQNOZ","br":"t4FaL"}},46991:e=>{e.exports={"details":"Bken_"}},78632:e=>{e.exports={"ndls-layout-breakpoint-small":"414px","wrapper":"MJ8kr","children":"DNhp0","childrenWithoutSecondaryButton":"wsW63","primaryButton":"WRb9S","divider":"jkuHn","noMargin":"fMVw7"}},93165:e=>{e.exports={"termsConditions":"Q_QbQ"}},99518:e=>{e.exports={"divider":"PxG4E","break":"P0mi7","text":"AcHqG"}},88305:e=>{e.exports={"container":"fdA86","emailOrPhoneSelection":"YKZZh","radioButtonDescriptor":"eyoun","radioButtonDescriptorEmail":"oRgzO","dataRates":"sVKpT","inputField":"FBSEI","inputFontSizeOverride":"lTfY7"}},20562:e=>{e.exports={"errorMessage":"LxiUC","errorIcon":"lxYSr"}},20148:e=>{e.exports={"iconContainer":"pXLLY","container":"ud7Gy","checkoutInfoMessage":"fZsp3","svg":"pCg1H","boldField":"MfLHs","glyphOverrideContainer":"G1Ayv","messageContainer":"bIiLJ"}},82683:e=>{e.exports={"signingInMobileNumber":"xnqsj","loadingSpinnerContainer":"bxMdT","errorMessageContainer":"ftPu6","errorMessage":"PCuWv","errorSubMessage":"K2PiQ","errorIcon":"XCbh8","margin":"lFqsS","header":"BiWzr","headerTall":"rLIH0","headerWithoutMargin":"ks7hV","wrapper":"Eqvf6","sendNewCodeWrapper":"pHj3Y","sendNewCodeWrapperNonModal":"sK2PX"}},46050:e=>{e.exports={"wrapper":"FXSoN","header":"GaSye","subheader":"kyjK8","termsAndConditions":"M4fWo","signInWithCodeBtn":"Pwpp8","details":"bW34w","orDivider":"tLU8d","signInWithPasswordBtn":"_09Cw5"}},5929:e=>{e.exports={"container":"rPZYy","otpCheckoutContainer":"W1XjA","header":"hHrga","message":"qia3z","upgradeContainer":"qpn2O","icon":"L0UwY","createAccountText":"nPoUs","password":"JlQns","passwordBox":"wya0Z","boldSCAField":"TcxIl","SCAMessage":"NqVKx","heading":"kP72j","iconContainer":"hXvLn","SCAPopover":"w_Dtg","textMessageLegalDisclaimer":"OTEO2","termsConditions":"FbLlh","recognizedEditLink":"hMoup","button":"hCPYo","infoContainer":"TzCnk","otpContainer":"HRDLm","otpButton":"SwDhS","otpSubText":"OSWcJ","spinner":"QKqpB","orDivider":"qPIal","otpContainerCheckout":"ezgZT","smallHeadingContainer":"zKCcy","smallHeadingContainerNoMargin":"Z_TSC","bannerErrorSection":"MU5k1","otpCheckoutWrapper":"xTQkZ","withOrDivider":"k2bdf","passwordInput":"RL9hd"}},44889:e=>{e.exports={"topContainerMargin":"aY1uC","topBtnMargin":"WTiYb","details":"PaUI8"}},68944:e=>{e.exports={"closeButton":"GeoyB"}}}]);